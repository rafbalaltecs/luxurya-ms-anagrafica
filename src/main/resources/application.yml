server:
  port: 8080
  address: 0.0.0.0

spring:
  application:
    name: luxurya-anagrafica-api

  # --- CONFIGURAZIONE POSTGRES ---
  datasource:
    url: jdbc:postgresql://16.16.192.42:5432/mydb
    username: postgre
    password: postgres
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: none
      naming:
        implicit-strategy: org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl
        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl

    show-sql: true

    properties:
      hibernate:
        format_sql: true
        default_schema: public
        globally_quoted_identifiers: true
        dialect: org.hibernate.dialect.PostgreSQLDialect

  # --- CONFIGURAZIONE MONGODB ---
  data:
    mongodb:
      uri: mongodb://admin:admin123@16.16.192.42:27017/luxurya?authSource=admin
      # in alternativa puoi separare host/port/db:
      # host: localhost
      # port: 27017
      database: luxurya
    redis:
      host: 16.16.192.42
      port: 6379
      password: ""
      timeout: 6000
      pool:
        enabled: true
        min: 2              # connessioni minime sempre attive
        max: 10             # connessioni massime
        testOnBorrow: true  # testa la connessione prima dell'uso
        testWhileIdle: true # testa le connessioni inattive
        timeBetweenEvictionRuns: 30000  # controlla ogni 30 secondi
        minEvictableIdleTime: 60000     # rimuovi connessioni idle dopo 60 secondi
      keepAlive: true       # abilita TCP keepalive

  # --- LOGGING ---
  logging:
    level:
      root: INFO
      org.springframework.web: INFO
      org.hibernate.SQL: DEBUG
      org.mongodb.driver: WARN

# --- PROFILI (opzionale) ---
# puoi definire profili separati per dev/prod se vuoi
# spring:
#   profiles:
#     active: dev

app:
  jwt:
    secret: c7a1b2d3e4f56789a0b1c2d3e4f56789c0d1e2f3a4b5c6d7e8f9a0b1c2d3e4f5
    expiration-ms: 8640000000

execus:
  execusbiurl: http://13.51.33.27:8080